<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ERP - Agroequipos Pelaez</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    :root{
      --bg:#0b1220;
      --surface:#0f1a30;
      --surface2:rgba(255,255,255,.06);
      --text:#eaf0ff;
      --muted:#a9b6d9;
      --brand:#ff3b3b;
      --border:rgba(255,255,255,.12);
      --radius:16px;
      --shadow:0 16px 40px rgba(0,0,0,.35);
      --max:1200px;
    }

    html[data-theme="light"]{
      --bg:#ffffff;
      --surface:#f6f7f9;
      --surface2:rgba(17,24,39,.06);
      --text:#111827;
      --muted:#6b7280;
      --brand:#b31217;
      --border:rgba(17,24,39,.12);
      --shadow:0 16px 40px rgba(17,24,39,.12);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% -10%, rgba(255,59,59,.14), transparent 60%),
        radial-gradient(900px 500px at 90% 0%, rgba(255,183,3,.10), transparent 60%),
        var(--bg);
      line-height:1.5;
    }

    a{color:inherit;text-decoration:none}
    button,input,select{font:inherit}

    .layout{display:grid;grid-template-columns:280px 1fr;min-height:100vh}

    .sidebar{
      position:sticky;top:0;align-self:start;height:100vh;
      border-right:1px solid var(--border);
      background:rgba(11,18,32,.62);
      backdrop-filter:saturate(120%) blur(14px);
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    html[data-theme="light"] .sidebar{background:rgba(255,255,255,.78)}

    .brand{display:flex;align-items:center;gap:12px;margin-bottom:16px}
    .badge{width:40px;height:40px;border-radius:14px;background:linear-gradient(135deg,var(--brand),#ffb703);box-shadow:var(--shadow)}
    .brand-logo{width:40px;height:40px;border-radius:14px;object-fit:contain;background:rgba(255,255,255,.06);box-shadow:var(--shadow)}
    html[data-theme="light"] .brand-logo{background:rgba(17,24,39,.06)}
    .brand strong{display:block;letter-spacing:.2px}
    .brand span{display:block;color:var(--muted);font-size:12px;font-weight:700;letter-spacing:.12em;text-transform:uppercase}

    .nav{display:flex;flex-direction:column;gap:8px;margin-top:16px}
    .nav a{
      display:flex;align-items:center;justify-content:space-between;
      padding:12px 12px;border-radius:14px;
      border:1px solid transparent;
      color:var(--muted);
      font-weight:800;
    }
    .nav a:hover{background:var(--surface2);color:var(--text)}
    .nav a.active{background:rgba(255,255,255,.08);border-color:var(--border);color:var(--text)}

    .content{padding:22px 22px 60px}
    .topbar{display:flex;align-items:center;justify-content:space-between;gap:16px;max-width:var(--max);margin:0 auto 18px}

    .topbar h1{font-size:22px;margin:0}
    .topbar p{margin:0;color:var(--muted)}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      padding:10px 14px;border-radius:14px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.06);
      color:var(--text);
      font-weight:850;
    }
    .btn:hover{background:rgba(255,255,255,.10)}
    .btn-primary{border:none;background:linear-gradient(135deg,var(--brand),#ff5c5c)}

    .grid{display:grid;grid-template-columns:repeat(12, 1fr);gap:14px;max-width:var(--max);margin:0 auto}

    .card{
      grid-column:span 12;
      background:rgba(255,255,255,.04);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:0 10px 26px rgba(0,0,0,.25);
      overflow:hidden;
    }

    .card-header{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:14px 14px;border-bottom:1px solid rgba(255,255,255,.08)}
    .card-header strong{font-size:14px;letter-spacing:.12em;text-transform:uppercase}

    .card-body{padding:14px}

    .kpis{display:grid;grid-template-columns:repeat(12, 1fr);gap:14px}
    .kpi{grid-column:span 4;padding:14px;border-radius:16px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04)}
    .kpi b{display:block;font-size:18px}
    .kpi span{color:var(--muted)}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .field label{display:block;color:var(--muted);font-weight:800;font-size:12px;margin:0 0 6px}
    .field input,.field select{
      width:100%;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(11,18,32,.45);
      color:var(--text);
      outline:none;
    }

    table{width:100%;border-collapse:collapse}
    th,td{padding:12px 10px;border-bottom:1px solid rgba(255,255,255,.08);text-align:left}
    th{color:var(--muted);font-size:12px;letter-spacing:.12em;text-transform:uppercase}

    html[data-theme="light"] th, html[data-theme="light"] td{border-bottom:1px solid rgba(17,24,39,.10)}

    .actions{display:flex;gap:10px;justify-content:flex-end}

    .pill{display:inline-flex;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.05);color:var(--muted);font-weight:800;font-size:12px}

    .menu-btn{display:none}

    .map{
      position:relative;
      height:260px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.04);
      overflow:hidden;
    }

    html[data-theme="light"] .map{border:1px solid rgba(17,24,39,.14);background:rgba(17,24,39,.03)}

    .addr-search{position:relative}
    .addr-results{
      position:absolute;left:0;right:0;top:calc(100% + 8px);
      z-index:30;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(11,18,32,.86);
      backdrop-filter:saturate(120%) blur(12px);
      box-shadow:0 20px 40px rgba(0,0,0,.35);
      overflow:hidden;
      display:none;
    }

    html[data-theme="light"] .addr-results{border:1px solid rgba(17,24,39,.12);background:rgba(255,255,255,.92)}
    .addr-results.open{display:block}
    .addr-item{display:block;width:100%;text-align:left;padding:12px 12px;border:none;background:transparent;color:var(--text);cursor:pointer}
    .addr-item:hover{background:rgba(255,255,255,.06)}
    html[data-theme="light"] .addr-item:hover{background:rgba(17,24,39,.06)}

    .sidebar-bottom{
      margin-top:auto;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.08);
      display:flex;
      gap:10px;
      flex-wrap:wrap;
    }

    html[data-theme="light"] .sidebar-bottom{border-top:1px solid rgba(17,24,39,.10)}

    .modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,.58);backdrop-filter:blur(6px);display:flex;align-items:flex-end;justify-content:center;padding:16px;z-index:120}
    .modal{width:min(980px, 100%);max-height:min(86vh, 760px);overflow:auto;background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:18px;box-shadow:0 18px 60px rgba(0,0,0,.45)}
    html[data-theme="light"] .modal{background:rgba(255,255,255,.90)}
    .modal-header{position:sticky;top:0;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 14px;border-bottom:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg, rgba(15,23,42,.62), rgba(15,23,42,.38))}
    html[data-theme="light"] .modal-header{background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.78));border-bottom-color:rgba(15,23,42,.10)}
    .modal-title{display:flex;flex-direction:column;gap:2px}
    .modal-title b{font-size:14px;letter-spacing:.12em;text-transform:uppercase}
    .modal-title span{font-size:12px;color:var(--muted)}
    .modal-body{padding:14px}
    .modal-actions{display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap}
    .row-click{cursor:pointer}
    .row-click:hover{background:rgba(255,255,255,.03)}
    html[data-theme="light"] .row-click:hover{background:rgba(15,23,42,.04)}

    @media (max-width: 920px){
      .layout{grid-template-columns:1fr}
      .sidebar{position:fixed;inset:0 auto 0 0;width:min(88vw, 320px);transform:translateX(-105%);transition:transform .2s ease;z-index:60}
      .sidebar.open{transform:translateX(0)}
      .content{padding:18px 16px 60px}
      .menu-btn{display:inline-flex}
      .kpi{grid-column:span 12}
      .row{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar" data-sidebar>
      <div class="brand">
        <a href="index.html" aria-label="Ir al sitio" style="display:flex;align-items:center;gap:12px">
          <img class="brand-logo" src="img/uploads/2021/09/agroequipos-pelaez-logo-transparente-2.png" alt="Agroequipos Pelaez" width="40" height="40" />
          <div>
            <strong>ERP</strong>
            <span>Agroequipos Pelaez</span>
          </div>
        </a>
      </div>

      <nav class="nav" aria-label="Módulos">
        <a href="#dashboard" data-nav="dashboard"><span>Dashboard</span><span class="pill" data-pill="dashboard"></span></a>
        <a href="#leads" data-nav="leads"><span>Leads</span><span class="pill" data-pill="leads"></span></a>
        <a href="#ventas" data-nav="ventas"><span>Ventas</span><span class="pill" data-pill="ventas"></span></a>
        <a href="#fabricacion" data-nav="fabricacion"><span>Fabricación</span><span class="pill" data-pill="fabricacion"></span></a>
        <a href="#clientes" data-nav="clientes"><span>Clientes</span><span class="pill" data-pill="clientes"></span></a>
        <a href="#inventario" data-nav="inventario"><span>Inventario</span><span class="pill" data-pill="inventario"></span></a>
        <a href="#envios" data-nav="envios"><span>Envíos</span><span class="pill" data-pill="envios"></span></a>
      </nav>

      <div class="sidebar-bottom" aria-label="Preferencias">
        <button class="btn" type="button" data-theme-toggle aria-pressed="false">Tema</button>
        <button class="btn" type="button" data-auth-toggle aria-pressed="false">Login</button>
      </div>
    </aside>

    <main class="content">
      <div class="topbar">
        <div>
          <h1 data-title></h1>
          <p data-subtitle></p>
        </div>
        <div class="actions">
          <button class="btn menu-btn" type="button" data-menu>Menú</button>
          <button class="btn" type="button" data-reset>Reset demo</button>
        </div>
      </div>

      <div data-view></div>
    </main>
  </div>

  <script src="script.js" defer></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>
  <script src="app.js" defer></script>
</body>
</html>
